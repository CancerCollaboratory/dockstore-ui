<div class="modal fade" id="registerContainerModal" tabindex="-1" role="dialog">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Register Container</h4>
      </div>
      <div class="alert alert-danger alert-dismissable"
          role="alert"
          ng-if="containerEditError">
        <button type="button"
            class="close"
            data-dismiss="alert"
            ng-click="setContainerEditError(null)">
          &times;
        </button>
        <p>
          <span class="glyphicon glyphicon-warning-sign"></span>
          {{containerEditError.message}}
        </p>
        <p class="error-output">{{containerEditError.errorDetails}}</p>
      </div>
      <form name="registerContainerForm" 
          class="form-horizontal"
          ng-submit="registerContainer()"
          novalidate>
        <div class="modal-body">
          <div class="form-group form-group-sm">
            <label class="col-sm-3 control-label">
              Source Code Repository:
            </label>
            <div class="col-sm-9">
              <input
                  type="text"
                  class="form-control"
                  name="gitUrl"
                  ng-model="containerObj.gitUrl"
                  ng-minlength="16"
                  ng-maxlength="256"
                  ng-pattern="/^(https?:)?\/\/(www\.)?(github\.com|bitbucket\.org)\/([\w-]+)\/([\w-]+)$/i"
                  required
                  placeholder="e.g. https://github.com/CancerCollaboratory/dockstore-tool-liftover" />
              <div
                  class="form-error-messages"
                  ng-messages="registerContainerForm.gitUrl.$error"
                  ng-if="registerContainerForm.gitUrl.$touched">
                <div ng-messages-include="templates/validation/containers/giturl.html">
                </div>
              </div>
            </div>
          </div>
          <div class="form-group form-group-sm">
            <label class="col-sm-3 control-label">
              Dockerfile:
            </label>
            <div class="col-sm-9">
              <input
                  type="text"
                  class="form-control"
                  name="default_dockerfile_path"
                  ng-model="containerObj.default_dockerfile_path"
                  ng-minlength="3"
                  ng-maxlength="256"
                  ng-pattern="/^\/(.*\/)*Dockerfile$/i"
                  required
                  placeholder="e.g. /Dockerfile" />
              <div
                  class="form-error-messages"
                  ng-messages="registerContainerForm.default_dockerfile_path.$error"
                  ng-if="registerContainerForm.default_dockerfile_path.$touched">
                <div ng-messages-include="templates/validation/containers/dockerfilepath.html">
                </div>
              </div>
            </div>
          </div>
          <div class="form-group form-group-sm">
            <label class="col-sm-3 control-label">
              CWL Descriptor:
            </label>
            <div class="col-sm-9">
              <input
                  type="text"
                  class="form-control"
                  name="default_cwl_path"
                  ng-model="containerObj.default_cwl_path"
                  ng-minlength="3"
                  ng-maxlength="256"
                  ng-pattern="/^\/(.*\/)*Dockstore\.cwl$/i"
                  required
                  placeholder="e.g. /Dockstore.cwl" />
              <div
                  class="form-error-messages"
                  ng-messages="registerContainerForm.default_cwl_path.$error"
                  ng-if="registerContainerForm.default_cwl_path.$touched">
                <div ng-messages-include="templates/validation/containers/descriptorpath.html">
                </div>
              </div>
            </div>
          </div>
          <div class="form-group form-group-sm">
            <label class="col-sm-3 control-label">
              Image Registry:
            </label>
            <div class="col-sm-9">
              <input
                  type="text"
                  class="form-control"
                  name="imageUrl"
                  ng-model="containerObj.imageUrl"
                  ng-minlength="3"
                  ng-maxlength="256"
                  ng-pattern="/^(https?:)?\/\/(www\.)?(quay\.io\/repository|hub\.docker\.com\/r)(\/([\w-]+))+\/([\w-]+)\/?$/i"
                  required
                  placeholder="e.g. https://quay.io/repository/cancercollaboratory/dockstore-tool-liftover" />
              <div
                  class="form-error-messages"
                  ng-messages="registerContainerForm.imageUrl.$error"
                  ng-if="registerContainerForm.imageUrl.$touched">
                <div ng-messages-include="templates/validation/containers/imageurl.html">
                </div>
              </div>
            </div>
          </div>
          <div class="form-group form-group-sm">
            <label class="col-sm-3 control-label">
              Tool Name:
            </label>
            <div class="col-sm-9">
              <input
                  type="text"
                  class="form-control"
                  name="toolname"
                  ng-model="containerObj.toolname"
                  ng-maxlength="256"
                  ng-pattern="/^[a-zA-Z0-9]+([-_][a-zA-Z0-9]+)*$/i"
                  placeholder="e.g. liftover-fast (optional)" />
              <div
                  class="form-error-messages"
                  ng-messages="registerContainerForm.toolname.$error"
                  ng-if="registerContainerForm.toolname.$touched">
                <div ng-messages-include="templates/validation/containers/toolname.html">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button"
              class="btn btn-default"
              ng-click="closeRegisterContainerModal(true)">
            Close
          </button>
          <button type="submit"
              class="btn btn-primary"
              ng-disabled="registerContainerForm.$invalid">
            Add Container
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
